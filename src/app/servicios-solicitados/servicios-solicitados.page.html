<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>JOBBY</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-list class="custom-list">
  <ion-item *ngFor="let solicitud of solicitudesRecibidas">
    <ion-label class="custom-label">
      <h2>{{ solicitud.titulo_solicitud }} {{ solicitud.name_serv }}</h2>
      <p>Enviado por: {{ solicitud.nombre }} {{ solicitud.apellidos }}</p>
      <p>Correo: {{ solicitud.correo_cliente }}</p>
      <p>Fecha: {{ solicitud.fecha_solicitud | date:'medium' }}</p>
      <p>Telefono: {{ solicitud.telefono }}</p>
      <p>Estado: {{ solicitud.estado }}</p>
      <p>Descripción: {{ solicitud.des_solicitud }}</p>
      <p></p>
    </ion-label>
    
    <ion-button *ngIf="solicitud.estado === 'pendiente'" (click)="aceptarSolicitud(solicitud.id_solicitud)">
      Aceptar Solicitud
    </ion-button>
    <ion-button *ngIf="solicitud.estado === 'gestionando'" (click)="aceptarEncargo(solicitud.id_solicitud)">
      Aceptar Encargo
    </ion-button>

    <!-- Botón "Rechazar Solicitud" -->
    <ion-button *ngIf="solicitud.estado === 'gestionando'" (click)="rechazarEncargo(solicitud.id_solicitud)">
      Rechazar Encargo
    </ion-button>

    <ion-button *ngIf="solicitud.estado === 'Desarrollo'" (click)="finalizarSolicitud(solicitud.id_solicitud)">
      Solicitud completada
    </ion-button>
    
  </ion-item>
</ion-list>
</ion-content>


